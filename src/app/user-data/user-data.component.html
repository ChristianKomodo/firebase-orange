<ng-container *ngIf="modalOpen">
  <div class="modal-backdrop"></div>
  <section class="modal-box">
    <h2>Movie Details</h2>
    <p>Here are some details</p>
    <button class="modal-button" (click)="onModalClose()">Close</button>
  </section>
</ng-container>

<section>
  <h1 *ngIf="someMovies.length; else noFavorites">Favorite Movies</h1>
  <ng-template #noFavorites>
    <p>You have no movies saved to your Favorites</p>
  </ng-template>

  <div
    class="movie-container"
    *ngFor="let movie of someMovies"
    [class.fade-out]="movie.imdbID === movieToRemove"
  >
    <div class="movie-title">{{ movie.Title }}</div>
    <div class="movie-year">{{ movie.Year }}</div>
    <div
      class="movie-box"
      [style.background-image]="'url(' + movie.Poster + ')'"
    ></div>
    <button class="movie-button" (click)="onRemoveMovie(movie)" role="button">
      Remove
    </button>
  </div>
</section>

<section class="box form-box">
  <div class="search-container">
    <h1>IMDB Movie Search</h1>
    <form [formGroup]="movieSearchForm" class="movie-form">
      <div class="field">
        <label for="title">Movie Title</label>
        <input
          id="title"
          type="text"
          formControlName="title"
          placeholder="Type a movie title"
        />
        <small
          class="error"
          *ngIf="
            movieSearchForm.get('title')?.touched &&
            movieSearchForm.get('title')?.invalid
          "
        >
          A Movie Title is required
        </small>
      </div>
      <button class="search-button" (click)="onMovieSearch()">Search</button>
    </form>
    <!-- <p class="message" [@fadeInOut] *ngIf="message">{{ message }}</p> -->
    <p class="message">{{ message }}</p>
  </div>

  <h2 *ngIf="movieSearchResults.length" #searchResults>Search Results</h2>

  <ng-container>
    <div class="movie-container" *ngFor="let movie of movieSearchResults">
      <div class="movie-title">{{ movie.Title }}</div>
      <div class="movie-year">{{ movie.Year }}</div>
      <div
        class="movie-box"
        [style.background-image]="'url(' + movie.Poster + ')'"
      ></div>
      <button
        class="movie-button"
        (click)="onMovieSearchDetails(movie.imdbID)"
        role="button"
      >
        Movie Details
      </button>
      <button class="movie-button" (click)="onAddMovie(movie)" role="button">
        Add Movie
      </button>
    </div>
  </ng-container>
</section>
